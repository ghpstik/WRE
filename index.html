<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>meeponegeroi — Dota 2 Heroes</title>
  <style>
    :root{
      --bg:#0b0c14;
      --panel:#0f1724;
      --muted:#9aa6bf;
      --accent:#f59e0b;
      --glass: rgba(255,255,255,0.03);
      --card-shadow: 0 6px 24px rgba(3,7,18,0.7);
      --glass-2: rgba(255,255,255,0.02);
      --green:#16a34a;
      --red:#ef4444;
      --blue:#2563eb;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, Roboto, "Helvetica Neue", Arial, sans-serif;
      background: linear-gradient(180deg,#071026 0%, #081226 40%, #090a16 100%);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
    }

    /* NAVBAR */
    .navbar{
      height:68px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 28px;
      background:linear-gradient(180deg, rgba(10,12,22,0.9), rgba(15,17,32,0.95));
      border-bottom:1px solid rgba(255,255,255,0.03);
      backdrop-filter: blur(4px);
      position:sticky; top:0; z-index:40;
    }
    .logo{display:flex;gap:12px;align-items:center}
    .logo .icon{
      width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,#ffb347,#ffcc33);display:flex;align-items:center;justify-content:center;font-weight:700;color:#0b0c14
    }
    .logo h1{font-size:16px;margin:0;color:var(--accent);letter-spacing:0.6px}
    .nav-actions{display:flex;gap:12px;align-items:center}
    .nav-actions button{padding:8px 14px;border-radius:10px;border:0;background:transparent;color:var(--muted);cursor:pointer;font-weight:600}
    .nav-actions button.active{background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));color:var(--accent);box-shadow:inset 0 -2px 0 rgba(255,255,255,0.02)}

    /* Page wrapper */
    .page{display:none;padding:30px 40px;max-width:1200px;margin:0 auto}
    .page.active{display:block}

    /* Header style for heroes page */
    .heroes-hero{
      display:flex;gap:28px;align-items:center;padding:36px;border-radius:12px;background-image:linear-gradient(180deg, rgba(2,6,23,0.6), rgba(3,10,25,0.6)), url('https://cdn.cloudflare.steamstatic.com/apps/dota2/images/blog/playdota2.jpg');
      background-size:cover;background-position:center;box-shadow:var(--card-shadow);border:1px solid rgba(255,255,255,0.03);
    }
    .heroes-hero .left{flex:1}
    .heroes-hero h2{margin:0;color:var(--accent);font-size:34px;letter-spacing:1.4px}
    .heroes-hero p{color:var(--muted);margin-top:10px;max-width:640px}
    .heroes-hero .cta{margin-top:12px;background:linear-gradient(90deg,var(--accent),#ff6f00);padding:10px 14px;border-radius:10px;color:#071426;font-weight:700;border:none;cursor:pointer}

    /* filter + search */
    .controls{display:flex;align-items:center;gap:16px;margin:22px 0}
    .filters{display:flex;gap:10px}
    .filters button{padding:8px 12px;border-radius:8px;border:0;background:var(--glass-2);color:var(--muted);cursor:pointer;font-weight:700}
    .filters button.active{background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:var(--accent)}
    .search{margin-left:auto}
    .search input{padding:10px 12px;border-radius:10px;border:0;background:rgba(255,255,255,0.02);color:var(--muted);width:280px}

    .hero-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px;margin-top:14px}
    .hero-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;transition:transform .18s ease, box-shadow .18s ease}
    .hero-card:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(2,6,23,0.6)}
    .hero-card .thumb{height:120px;border-radius:8px;overflow:hidden;background:#061426;display:flex;align-items:center;justify-content:center}
    .hero-card .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .hero-card .info{padding:10px 6px}
    .hero-card h3{margin:0;color:var(--accent);font-size:16px}
    .hero-card p{margin:6px 0 0;color:var(--muted);font-size:13px}
    .badge{display:inline-block;padding:6px 8px;border-radius:8px;font-weight:700;font-size:12px}
    .badge.str{background:linear-gradient(90deg,#ff6b6b,#ff3b3b);color:#fff}
    .badge.agi{background:linear-gradient(90deg,#34d399,#10b981);color:#062017}
    .badge.int{background:linear-gradient(90deg,#60a5fa,#3b82f6);color:#07163b}

    /* hero details */
    .hero-detail-hero{
      margin-top:12px;border-radius:12px;overflow:hidden;position:relative;background:linear-gradient(180deg, rgba(2,6,23,0.6), rgba(3,10,25,0.6));background-size:cover;background-position:center;padding:36px;color:#fff;box-shadow:var(--card-shadow);
    }
    .hero-detail-row{display:flex;gap:24px;align-items:center}
    .hero-portrait{width:200px;height:200px;border-radius:12px;border:4px solid rgba(0,0,0,0.25);overflow:hidden;background:#000;flex-shrink:0}
    .hero-portrait img{width:100%;height:100%;object-fit:cover}
    .hero-meta h2{margin:0;font-size:36px;color:var(--accent)}
    .hero-meta p{margin:8px 0;color:var(--muted)}

    .stats{display:flex;gap:12px;margin-top:18px}
    .stat{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:10px;min-width:100px;text-align:center}
    .stat h4{margin:0;color:#ffd27a}
    .stat p{margin:6px 0 0;color:var(--muted)}

    .abilities{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px;margin-top:22px}
    .ability-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .ability-card h4{margin:0;color:#ffb86b}
    .ability-card p{margin:8px 0 0;color:var(--muted);font-size:14px}
    .ability-card .note{margin-top:10px;font-size:13px;color:#b7c7df;font-weight:700}

    /* buffs & debuffs page */
    .two-col{display:grid;grid-template-columns:1fr 1fr;gap:28px}
    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:22px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .panel h3{margin:0;color:var(--accent)}
    .bp-item{display:flex;align-items:center;justify-content:space-between;padding:12px;border-radius:10px;background:rgba(255,255,255,0.01);margin-top:12px}
    .bp-item .left{display:flex;gap:12px;align-items:center}
    .bp-item .icon{width:44px;height:44px;border-radius:8px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;font-weight:700}
    .bp-add{display:block;margin-top:14px;padding:12px;border-radius:8px;border:0;font-weight:700;cursor:pointer}
    .bp-add.green{background:var(--green);color:#051b0f}
    .bp-add.red{background:var(--red);color:#fff}

    /* footer */
    footer{padding:20px;text-align:center;color:var(--muted);margin-top:36px}

    @media (max-width:900px){
      .two-col{grid-template-columns:1fr}
      .hero-detail-row{flex-direction:column;align-items:flex-start}
      .hero-grid{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}
      .hero-portrait{width:140px;height:140px}
    }

    /* placeholder for broken images */
    .img-placeholder {
      width:100%;
      height:120px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:#0a1320;
      color:var(--muted);
      font-size:13px;
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="logo">
      <div class="icon">me</div>
      <h1>meeponegeroi</h1>
    </div>

    <div class="nav-actions" role="navigation" aria-label="Main navigation">
      <button type="button" data-page="buffs" id="nav-buffs">Buffs & Debuffs</button>
      <button type="button" data-page="heroes" id="nav-heroes" class="active">Heroes</button>
      <button type="button" data-page="hero-details" id="nav-hero-details">Hero Details</button>
    </div>
  </nav>

  <main>
    <!-- HEROES -->
    <section id="heroes" class="page active">
      <div class="heroes-hero">
        <div class="left">
          <h2>CHOOSE YOUR HERO</h2>
          <p>Master over 120 unique heroes, each with their own abilities, playstyles, and strategic roles in the ultimate battle arena.</p>
          <div style="margin-top:14px;display:flex;gap:12px;align-items:center">
            <button class="cta">123 Heroes Available</button>
            <div style="color:var(--muted);font-weight:700;margin-left:12px">Filter by:</div>
          </div>
        </div>
      </div>

      <div class="controls">
        <div class="filters" role="tablist">
          <button class="filter-btn active" data-filter="all">All</button>
          <button class="filter-btn" data-filter="str">Strength</button>
          <button class="filter-btn" data-filter="int">Intelligence</button>
          <button class="filter-btn" data-filter="agi">Agility</button>
        </div>

        <div class="search">
          <input type="search" id="search" placeholder="Search heroes..." aria-label="Search heroes" />
        </div>
      </div>

      <div class="hero-grid" id="heroGrid"></div>

      <div style="text-align:center;margin-top:22px">
        <button id="loadMore" style="padding:12px 20px;border-radius:10px;border:0;background:var(--accent);color:#071426;font-weight:800;cursor:pointer">Load More Heroes</button>
      </div>
    </section>

    <!-- HERO DETAILS -->
    <section id="hero-details" class="page" aria-live="polite">
      <button id="backToHeroes" style="margin-bottom:12px;padding:8px 12px;border-radius:10px;border:0;background:rgba(255,255,255,0.02);color:var(--muted);cursor:pointer">← Back to Heroes</button>

      <div class="hero-detail-hero" id="heroDetailHero">
        <div class="hero-detail-row">
          <div class="hero-portrait" id="detailPortrait">
            <img id="detailImg" src="" alt="hero image"
              onerror="this.style.display='none'; this.parentElement.classList.add('img-placeholder'); this.parentElement.innerHTML='Image not available'">
          </div>
          <div class="hero-meta">
            <h2 id="detailName">PUDGE</h2>
            <p id="detailSubtitle">The Butcher — Strength</p>
            <div class="stats" id="detailStats">
              <div class="stat"><h4 id="st-health">700</h4><p>Health</p></div>
              <div class="stat"><h4 id="st-mana">243</h4><p>Mana</p></div>
              <div class="stat"><h4 id="st-damage">58</h4><p>Damage</p></div>
              <div class="stat"><h4 id="st-armor">1.7</h4><p>Armor</p></div>
            </div>
          </div>
        </div>

        <div style="margin-top:22px">
          <h3 style="color:var(--accent);margin:0">Abilities</h3>
          <div class="abilities" id="abilitiesList"></div>
        </div>
      </div>
    </section>

    <!-- BUFFS & DEBUFFS -->
    <section id="buffs" class="page">
      <h2 style="color:var(--accent);margin:0 0 8px 0;font-size:34px">Buffs & Debuffs Manager</h2>
      <p style="color:var(--muted);margin-top:8px">Manage hero enhancements and weakening effects</p>

      <div style="height:20px"></div>

      <div class="two-col">
        <div class="panel">
          <h3>Active Buffs</h3>
          <div id="buffList">
            <div class="bp-item">
              <div class="left"><div class="icon">⚔️</div><div><strong>Damage Amplification</strong><div style="color:var(--muted);font-size:13px">+25% Attack Damage</div></div></div>
              <div><button class="remove" style="background:none;border:0;color:var(--red);font-weight:800;cursor:pointer">✕</button></div>
            </div>

            <div class="bp-item">
              <div class="left"><div class="icon">🏃</div><div><strong>Speed Boost</strong><div style="color:var(--muted);font-size:13px">+30% Movement Speed</div></div></div>
              <div><button class="remove" style="background:none;border:0;color:var(--red);font-weight:800;cursor:pointer">✕</button></div>
            </div>
          </div>

          <button class="bp-add green" id="addBuff">+ Add New Buff</button>
        </div>

        <div class="panel">
          <h3 style="color:#ff9b9b">Active Debuffs</h3>
          <div id="debuffList">
            <div class="bp-item">
              <div class="left"><div class="icon">🛡️</div><div><strong>Armor Reduction</strong><div style="color:var(--muted);font-size:13px">-15 Armor</div></div></div>
              <div><button class="remove" style="background:none;border:0;color:var(--red);font-weight:800;cursor:pointer">✕</button></div>
            </div>

            <div class="bp-item">
              <div class="left"><div class="icon">❄️</div><div><strong>Slow</strong><div style="color:var(--muted);font-size:13px">-40% Movement Speed</div></div></div>
              <div><button class="remove" style="background:none;border:0;color:var(--red);font-weight:800;cursor:pointer">✕</button></div>
            </div>
          </div>

          <button class="bp-add red" id="addDebuff">+ Add New Debuff</button>
        </div>
      </div>
    </section>
  </main>

  <footer>
    © 2024 Valve Corporation. All rights reserved. — Demo by meeponegeroi
  </footer>

  <script>
    // ---- Navigation ----
    const navButtons = Array.from(document.querySelectorAll('.nav-actions button[data-page]'));
    const pages = Array.from(document.querySelectorAll('.page'));

    function showPage(name) {
      pages.forEach(p => p.classList.remove('active'));
      const target = document.getElementById(name);
      if (target) target.classList.add('active');
      navButtons.forEach(b => b.classList.toggle('active', b.getAttribute('data-page') === name));
    }

    navButtons.forEach(btn => {
      btn.addEventListener('click', (e) => {
        const page = btn.getAttribute('data-page');
        if (page && document.getElementById(page)) {
          showPage(page);
          // if we show details, scroll into view gently
          if (page === 'hero-details') {
            document.getElementById('heroDetailHero')?.scrollIntoView({behavior:'smooth'});
          }
          e.preventDefault();
        }
      });
    });

    document.getElementById('backToHeroes')?.addEventListener('click', () => {
      showPage('heroes');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // ---- Heroes & assets (images from public dota2 CDN / static wiki icons) ----
    // Note: these image URLs are public assets commonly used for hero portraits/icons.
    const heroes = [
      {
        id:'pudge',
        name:'Pudge',
        role:'The Butcher',
        attr:'str',
        img:'https://cdn.cloudflare.steamstatic.com/apps/dota2/images/heroes/pudge_full.png',
        rating:4.2,
        difficulty:2,
        stats:{health:700,mana:243,damage:58,armor:1.7},
        abilities:[
          {name:'Meat Hook', desc:'Pudge hurls a crimson hook along a line. The first enemy unit hit is pulled to Pudge and takes heavy pure damage. Great for initiating and catching out-of-position enemies.', note:'Mana: 110 · CD: 14s'},
          {name:'Rot', desc:'Pudge toggles a toxic cloud around him that damages and slows nearby enemies while also damaging Pudge. Use to secure kills after a successful hook.', note:'Toggle · Self-damage'},
          {name:'Flesh Heap', desc:'A passive ability that grants bonus strength and magic resistance for each enemy hero Pudge kills or gains when nearby death events occur, making him tankier over the game.', note:'Passive · Stacks'},
          {name:'Dismember', desc:'Pudge channels on an enemy unit, immobilizing and dealing massive damage over time while healing Pudge slightly. Devastating when combined with items and allies.', note:'Mana: 100 · CD: 30s'}
        ]
      },
      {
        id:'invoker',
        name:'Invoker',
        role:'Arsenal Magus',
        attr:'int',
        img:'https://cdn.cloudflare.steamstatic.com/apps/dota2/images/heroes/invoker_full.png',
        rating:4.8,
        difficulty:5,
        stats:{health:520,mana:600,damage:62,armor:2.0},
        abilities:[
          {name:'Quas', desc:'An elemental orb of ice that increases health regeneration and influences several invoked spells. Quas levels boost cold-related effects.', note:'Orb — increases HP regen'},
          {name:'Wex', desc:'An elemental orb of storm that increases movement and attack speed influences many invoked spells. Wex levels empower lightning/tempo spells.', note:'Orb — increases move/attack speed'},
          {name:'Exort', desc:'An elemental orb of fire that increases attack damage and empowers many offensive Invoker spells.', note:'Orb — increases attack damage'},
          {name:'Invoke', desc:'Combines the current Quas/Wex/Exort orbs to create a unique spell. Mastery of Invoke lets Invoker cast a wide and flexible arsenal of high-impact abilities.', note:'Creates multiple spells like Chaos Meteor, EMP, Tornado, Sun Strike, etc.'}
        ]
      },
      {
        id:'juggernaut',
        name:'Juggernaut',
        role:'Yurnero',
        attr:'agi',
        img:'https://cdn.cloudflare.steamstatic.com/apps/dota2/images/heroes/juggernaut_full.png',
        rating:4.6,
        difficulty:3,
        stats:{health:610,mana:220,damage:78,armor:3.2},
        abilities:[
          {name:'Blade Fury', desc:'Juggernaut spins with his blade, becoming immune to magic while dealing strong damage to nearby enemies. Great for escape or early kills.', note:'Magic immunity during spin · Duration scales with level'},
          {name:'Healing Ward', desc:'Summons a Healing Ward that heals nearby allies over time. Excellent sustain tool in pushes and fights (can be destroyed).', note:'Summons an allied healing aura'},
          {name:'Blade Dance', desc:'Passive chance to deal critical damage on attacks. Increases Juggernaut\'s burst potential in fights.', note:'Passive critical chance'},
          {name:'Omnislash', desc:'Juggernaut rapidly leaps between enemy units, dealing multiple slashes of heavy damage. Powerful ultimate that excels against single targets.', note:'High single-target burst · Undeniable finisher'}
        ]
      },
      {
        id:'axe',
        name:'Axe',
        role:'Mogul Khan',
        attr:'str',
        img:'https://static.wikia.nocookie.net/dota2_gamepedia/images/2/23/Axe_icon.png/revision/latest?cb=20160411211422',
        rating:4.3,
        difficulty:2,
        stats:{health:720,mana:234,damage:64,armor:5.0},
        abilities:[
          {name:'Berserker\'s Call', desc:'Axe taunts nearby enemies to attack him, forcing them to focus him while granting Axe bonus armor. Great for initiating teamfights.', note:'Taunt · Bonus armor for Axe'},
          {name:'Battle Hunger', desc:'Axe places a crippling debuff on an enemy that deals damage over time and slows them until they kill a unit or the debuff expires.', note:'Damage over time · Slow'},
          {name:'Counter Helix', desc:'A passive spin that triggers when Axe is attacked, dealing area damage to nearby enemies. Useful when surrounded.', note:'Passive aoe damage'},
          {name:'Culling Blade', desc:'Axe executes a low-health enemy with a powerful strike. If the target dies, Axe and allies gain a movement speed buff.', note:'Instant kill if below threshold'}
        ]
      },
      {
        id:'phantom_assassin',
        name:'Phantom Assassin',
        role:'Mortred',
        attr:'agi',
        img:'https://static.wikia.nocookie.net/dota2_gamepedia/images/8/8e/Phantom_Assassin_icon.png/revision/latest?cb=20160411214013',
        rating:4.5,
        difficulty:4,
        stats:{health:560,mana:200,damage:84,armor:3.1},
        abilities:[
          {name:'Stifling Dagger', desc:'Throws a dagger that deals damage and slows the target on hit, enabling quick initiations or follow-up attacks.', note:'Ranged dagger · Applies slow'},
          {name:'Phantom Strike', desc:'Blink to an enemy unit and gain attack speed for a short duration, perfect for chasing and securing kills.', note:'Blink + attack speed buff'},
          {name:'Blur', desc:'Passive ability that grants evasion and can make Phantom Assassin difficult to find on the minimap when enemies are far away.', note:'Evasion passive'},
          {name:'Coup de Grace', desc:'A passive critical strike mechanic that gives Phantom Assassin a high chance to deal massive critical damage on attacks.', note:'High-crit passive'}
        ]
      },
      {
        id:'crystal_maiden',
        name:'Crystal Maiden',
        role:'Rylai',
        attr:'int',
        img:'https://static.wikia.nocookie.net/dota2_gamepedia/images/2/27/Crystal_Maiden_icon.png/revision/latest?cb=20160411214805',
        rating:4.1,
        difficulty:2,
        stats:{health:480,mana:300,damage:46,armor:1.1},
        abilities:[
          {name:'Crystal Nova', desc:'A burst of damaging frost that slows enemy units in an area—great for zoning and early skirmishes.', note:'AoE damage + slow'},
          {name:'Frostbite', desc:'Roots and deals damage over time to a single target, preventing movement and attacks—strong single-target disable.', note:'Root + DoT'},
          {name:'Arcane Aura', desc:'Grants mana regeneration to all allied heroes globally. Excellent for sustain, especially in mana-hungry lineups.', note:'Global mana regen aura'},
          {name:'Freezing Field', desc:'Unleashes random bursts of heavy damage around Crystal Maiden, slowing enemies—very powerful in teamfight when correctly positioned.', note:'Channelled ultimate · Massive AoE damage'}
        ]
      }
    ];

    // ---- Render heroes in grid ----
    const heroGrid = document.getElementById('heroGrid');
    function renderHeroes(list) {
      heroGrid.innerHTML = '';
      list.forEach(h => {
        const card = document.createElement('div');
        card.className = 'hero-card';
        const imgHtml = h.img
          ? `<img src="${h.img}" alt="${h.name}" onerror="this.style.display='none'; this.parentElement.classList.add('img-placeholder'); this.parentElement.innerHTML='Image not available'">`
          : '';
        card.innerHTML = `
          <div class="thumb">${imgHtml}</div>
          <div class="info">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <span class="badge ${h.attr}">${h.attr.toUpperCase()}</span>
              <div style="color:var(--muted);font-weight:800">★ ${h.rating || '—'}</div>
            </div>
            <h3>${h.name}</h3>
            <p>${h.role} · Difficulty: ${'★'.repeat(h.difficulty||3)}</p>
          </div>
        `;
        card.addEventListener('click', () => {
          openHero(h.id);
          // open details page and scroll to it
          showPage('hero-details');
          setTimeout(()=> {
            document.getElementById('heroDetailHero')?.scrollIntoView({behavior:'smooth'});
          }, 60);
        });
        heroGrid.appendChild(card);
      });
    }

    renderHeroes(heroes.slice(0,6));

    // ---- Load more ----
    document.getElementById('loadMore')?.addEventListener('click', () => {
      renderHeroes(heroes);
      const btn = document.getElementById('loadMore');
      if (btn) { btn.innerText = 'All Heroes Loaded'; btn.disabled = true; }
    });

    // ---- Filters & search ----
    const searchInput = document.getElementById('search');
    const filterBtns = document.querySelectorAll('.filter-btn');
    let currentFilter = 'all';
    filterBtns.forEach(b => b.addEventListener('click', () => {
      filterBtns.forEach(x => x.classList.remove('active'));
      b.classList.add('active');
      currentFilter = b.dataset.filter;
      applyFilters();
    }));
    if (searchInput) searchInput.addEventListener('input', applyFilters);

    function applyFilters() {
      const q = (searchInput?.value || '').trim().toLowerCase();
      let filtered = heroes.filter(h => (currentFilter === 'all' ||
        (currentFilter === 'str' && h.attr === 'str') ||
        (currentFilter === 'agi' && h.attr === 'agi') ||
        (currentFilter === 'int' && h.attr === 'int')));
      if (q) filtered = filtered.filter(h => h.name.toLowerCase().includes(q) || (h.role && h.role.toLowerCase().includes(q)));
      renderHeroes(filtered);
    }

    // ---- Open hero detail and populate content ----
    function openHero(id) {
      const hero = heroes.find(h => h.id === id);
      if (!hero) return;
      document.getElementById('detailName').innerText = hero.name.toUpperCase();
      document.getElementById('detailSubtitle').innerText = `${hero.role} — ${hero.attr === 'str' ? 'Strength' : hero.attr === 'agi' ? 'Agility' : 'Intelligence'}`;
      const imgEl = document.getElementById('detailImg');
      imgEl.style.display = 'block';
      imgEl.src = hero.img || '';
      // reset parent placeholder if present
      const portrait = document.getElementById('detailPortrait');
      portrait.classList.remove('img-placeholder');
      if (!hero.img) { imgEl.style.display = 'none'; portrait.classList.add('img-placeholder'); portrait.innerHTML = 'Image not available'; }

      document.getElementById('st-health').innerText = hero.stats?.health ?? '—';
      document.getElementById('st-mana').innerText = hero.stats?.mana ?? '—';
      document.getElementById('st-damage').innerText = hero.stats?.damage ?? '—';
      document.getElementById('st-armor').innerText = hero.stats?.armor ?? '—';

      const abilitiesList = document.getElementById('abilitiesList');
      abilitiesList.innerHTML = '';
      if (hero.abilities && hero.abilities.length) {
        hero.abilities.forEach(a => {
          const el = document.createElement('div');
          el.className = 'ability-card';
          el.innerHTML = `<h4>${a.name}</h4><p>${a.desc}</p><div class="note">${a.note || ''}</div>`;
          abilitiesList.appendChild(el);
        });
      } else {
        abilitiesList.innerHTML = '<div style="color:var(--muted)">No abilities data</div>';
      }
    }

    // ---- Buffs add/remove ----
    document.getElementById('addBuff')?.addEventListener('click', () => {
      const title = prompt('Название баффа (например: Возбуждение)');
      const note = prompt('Описание/эффект (например: +10% урона)');
      if (title) {
        const list = document.getElementById('buffList');
        const item = document.createElement('div'); item.className = 'bp-item';
        item.innerHTML = `<div class="left"><div class="icon">✨</div><div><strong>${escapeHtml(title)}</strong><div style="color:var(--muted);font-size:13px">${escapeHtml(note||'')}</div></div></div><div><button class="remove" style="background:none;border:0;color:var(--red);font-weight:800;cursor:pointer">✕</button></div>`;
        list.appendChild(item);
        item.querySelector('.remove').addEventListener('click', ()=>item.remove());
      }
    });
    document.getElementById('addDebuff')?.addEventListener('click', () => {
      const title = prompt('Название дебаффа (например: Замедление)');
      const note = prompt('Описание/эффект (например: -20% скорость)');
      if (title) {
        const list = document.getElementById('debuffList');
        const item = document.createElement('div'); item.className = 'bp-item';
        item.innerHTML = `<div class="left"><div class="icon">❗</div><div><strong>${escapeHtml(title)}</strong><div style="color:var(--muted);font-size:13px">${escapeHtml(note||'')}</div></div></div><div><button class="remove" style="background:none;border:0;color:var(--red);font-weight:800;cursor:pointer">✕</button></div>`;
        list.appendChild(item);
        item.querySelector('.remove').addEventListener('click', ()=>item.remove());
      }
    });

    // helper
    function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

    // ensure initial state
    showPage('heroes');

    // open first hero details by default when visiting details page via nav
    document.getElementById('nav-hero-details')?.addEventListener('click', () => {
      // open first hero if none displayed
      const currentName = document.getElementById('detailName')?.innerText;
      if (!currentName || currentName.trim() === '') openHero(heroes[0].id);
      setTimeout(()=> document.getElementById('heroDetailHero')?.scrollIntoView({behavior:'smooth'}), 80);
    });

    // make sure clicking a hero on the grid both opens details and scrolls to it (already wired in render)
    // also open Pudge by default so page-ready shows details if user navigates
    openHero('pudge');
  </script>
</body>
</html>

